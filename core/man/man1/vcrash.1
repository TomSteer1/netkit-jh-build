.TH VCRASH 1 2022-09-01 Linux "Netkit-JH Manual"
.SH NAME
vcrash \- crash running Netkit-JH machines
.SH SYNOPSIS
.B vcrash
.RI [ OPTION "]... " MACHINE ...
.SH DESCRIPTION
Forcibly shutdown running Netkit-JH
.IR MACHINE s.
If they were physical machines,
this would roughly correspond to unplugging them from the power socket.
Any invalid
.I MACHINE
names will be ignored.
.PP
Unlike
.BR vhalt (1),
.B vcrash
may result in a dirty shutdown where integrity of the virtual machines'
filesystems
.RI ( .disk " files)"
cannot be guaranteed.
First, the UML management console client,
.BR uml_mconsole ,
is used to send a
.B halt
signal to the virtual machine.
This is repeated once if it fails.
If the machine is still online, the machine's processes are sent
.B SIGTERM
twice to safely terminate.
If still running, the processes are sent
.B SIGKILL
as a last resort to terminate immediately.
.PP
To crash an entire Netkit-JH lab, use
.BR lcrash (1).
.SH OPTIONS
.SS General options
.TP
.B \-\-test
Do not actually crash the machines,
just show which processes will be affected.
.TP
.BR \-u ", " \-\-user =\fIUSERNAME\fR
Crash machines owned by a different user.
The special username
.B \-
denotes all users and will cause
.B vcrash
to shutdown the first host reported by
.IR "vlist \-\-user=\- MACHINE" .
By default, machines owned by the current user are targetted.
.SS Options affecting how machines are crashed
.TP
.BR \-k ", " \-\-just\-kill
Crash machines as usual but skip the attempts with
.BR uml_mconsole .
The method is generally faster but may corrupt the machines' filesystems
(which is not an issue if
.B \-\-remove\-fs
is used since they will get deleted).
.TP
.BR \-q ", " \-\-quick
Disable checking if machines have actually terminated.
Like
.BR \-\-just\-kill , 
this option will skip invoking
.B uml_mconsole
however it also does not send a
.B SIGTERM
signal (i.e., only
.B SIGKILL
is used).
.TP
.BR \-r ", " \-\-remove\-fs
After crashing a machine delete its filesystem
.RI ( .disk " file),
if exists.
.SS Miscellaneous options
.TP
.B \-\-help
Display a usage message and exit.
.TP
.BR \-v ", " \-\-verbose
Show which processes are getting terminated.
.TP
.B \-\-version
Output version information and exit.
.SH ENVIRONMENT
.TP
.B NETKIT_HOME
All Netkit-JH commands require that the
.B NETKIT_HOME
variable is set the path of the directory which Netkit-JH is installed in.
.SH AUTHORS
Netkit-JH is maintained by Adam Bromiley, Joshua Hawking,
and other important contributors who are current or graduate students of WMG,
University of Warwick.
A full list of contributors can be found in copyright notices at the top of
source files.
.PP
Netkit-JH is a fork of the now deprecated Netkit-NG,
maintained by Julien Iguchi-Cartigny of the XLIM Research Institute,
which itself is a fork of the original project (Netkit).
Netkit was written by academics at the Computer Networks Laboratory of Roma Tre
University before being abandoned in favour of Kathar√°,
which utilises Python and Docker instead of Bash and UML.
All iterations of Netkit have introduced important new features and upgraded
existing ones.
.SH "REPORTING BUGS"
To report a bug with Netkit-JH,
please create an issue with the recommended template on the project's
.UR https://github.com/netkit-jh/netkit-jh-build/issues
GitHub repository
.UE .
For a more complex bug that you know how to fix,
please consider writing a patch and sending it as a pull request to the GitHub.
.SH COPYRIGHT
Like its predecessors,
Netkit-JH is released under the terms of the GNU General Public License,
version 3 or later. For a copy of the license see the included
.I LICENSE.txt
file or, if not present,
.UR http://www.gnu.org/licenses/
.UE .
.SH "SEE ALSO"
.BR lcrash (1),
.BR vhalt (1),
.BR vlist (1),
.BR vstart (1)
